<div class="bg-white rounded-xl shadow-lg p-8 w-full max-w-4xl">
  <%= form_with(model: expedient, class: "space-y-6") do |f| %>
    <h2 class="text-2xl font-semibold text-gray-700 border-b pb-3">
      <%= expedient.new_record? ? "Nuevo Expediente" : "Editar Expediente" %>
    </h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

      <div>
        <%= f.label :file_number, "Número de expediente", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.text_field :file_number,
              class: "w-full border-gray-300 rounded-lg shadow-sm px-3 py-2 focus:ring-blue-500 focus:border-blue-500" %>
      </div>

      <!-- Responsable -->
      <div>
        <%= f.label :responsible, "Responsable", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.text_field :responsible,
              class: "w-full border-gray-300 rounded-lg shadow-sm px-3 py-2 focus:ring-blue-500 focus:border-blue-500" %>
      </div>

      <!-- Detalle -->
      <div class="md:col-span-2">
        <%= f.label :detail, "Detalle", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.text_area :detail,
              rows: 3,
              class: "w-full border-gray-300 rounded-lg shadow-sm px-3 py-2 focus:ring-blue-500 focus:border-blue-500" %>
      </div>

      <!-- Opinión -->
      <div class="md:col-span-2">
        <%= f.label :opinion, "Dictámen", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.text_area :opinion,
              rows: 2,
              class: "w-full border-gray-300 rounded-lg shadow-sm px-3 py-2 focus:ring-blue-500 focus:border-blue-500" %>
      </div>

      <!-- Fecha de creación -->
      <div>
        <%= f.label :creation_date, "Fecha de creación", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.date_field :creation_date,
              class: "w-full border-gray-300 rounded-lg shadow-sm px-3 py-2 focus:ring-blue-500 focus:border-blue-500" %>
      </div>

      <!-- Destino -->
      <div>
        <%= f.label :destination_id, "Destino", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.collection_select :destination_id,
              Destination.active_first,
              :id, :name,
              { prompt: "Seleccionar destino" },
              class: "w-full border-gray-300 rounded-lg shadow-sm px-3 py-2 bg-white focus:ring-blue-500 focus:border-blue-500" %>
      </div>

      <!-- Asunto -->
      <div>
        <%= f.label :subject_id, "Asunto", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.collection_select :subject_id,
              Subject.all,
              :id, :name,
              { prompt: "Seleccionar asunto" },
              class: "w-full border-gray-300 rounded-lg shadow-sm px-3 py-2 bg-white focus:ring-blue-500 focus:border-blue-500" %>
      </div>

    </div>

    <!-- BOTONES -->
    <div class="flex justify-end pt-4 border-t">
      <%= f.submit(expedient.new_record? ? "Crear" : "Actualizar",
          class: "bg-blue-600 text-white font-semibold px-6 py-2 rounded-lg hover:bg-blue-700 transition") %>
    </div>

  <% end %>
</div>
